import 'package:flutter/material.dart';\nimport '../models/product.dart';\n\nclass CartScreen extends StatefulWidget {\n  const CartScreen({super.key});\n\n  @override\n  State<CartScreen> createState() => _CartScreenState();\n}\n\nclass _CartScreenState extends State<CartScreen> {\n  final List<CartItem> _cartItems = [\n    CartItem(product: Product.getBestSellers()[0], quantity: 1),\n    CartItem(product: Product.getBestSellers()[1], quantity: 2),\n  ];\n\n  double get _total {\n    return _cartItems.fold(0, (sum, item) => sum + (item.product.price * item.quantity));\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(\n          'Shopping Cart',\n          style: TextStyle(color: Colors.white, fontWeight: FontWeight.bold),\n        ),\n        actions: [\n          if (_cartItems.isNotEmpty)\n            IconButton(\n              icon: const Icon(Icons.delete_outline, color: Colors.white),\n              onPressed: () {\n                setState(() {\n                  _cartItems.clear();\n                });\n                ScaffoldMessenger.of(context).showSnackBar(\n                  const SnackBar(\n                    content: Text('Cart cleared'),\n                    behavior: SnackBarBehavior.floating,\n                  ),\n                );\n              },\n            ),\n        ],\n      ),\n      body: _cartItems.isEmpty\n          ? Center(\n              child: Column(\n                mainAxisAlignment: MainAxisAlignment.center,\n                children: [\n                  Icon(\n                    Icons.shopping_cart_outlined,\n                    size: 100,\n                    color: Colors.grey[300],\n                  ),\n                  const SizedBox(height: 16),\n                  Text(\n                    'Your cart is empty',\n                    style: TextStyle(\n                      fontSize: 20,\n                      color: Colors.grey[600],\n                      fontWeight: FontWeight.w500,\n                    ),\n                  ),\n                  const SizedBox(height: 8),\n                  Text(\n                    'Add products to get started',\n                    style: TextStyle(\n                      fontSize: 14,\n                      color: Colors.grey[500],\n                    ),\n                  ),\n                ],\n              ),\n            )\n          : Column(\n              children: [\n                Expanded(\n                  child: ListView.builder(\n                    padding: const EdgeInsets.all(16),\n                    itemCount: _cartItems.length,\n                    itemBuilder: (context, index) {\n                      final cartItem = _cartItems[index];\n                      return _buildCartItem(cartItem, index);\n                    },\n                  ),\n                ),\n                _buildCheckoutSection(),\n              ],\n            ),\n    );\n  }\n\n  Widget _buildCartItem(CartItem cartItem, int index) {\n    return Container(\n      margin: const EdgeInsets.only(bottom: 16),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        borderRadius: BorderRadius.circular(15),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.05),\n            blurRadius: 10,\n            offset: const Offset(0, 5),\n          ),\n        ],\n      ),\n      child: Padding(\n        padding: const EdgeInsets.all(12),\n        child: Row(\n          children: [\n            Container(\n              width: 80,\n              height: 80,\n              decoration: BoxDecoration(\n                color: Colors.grey[100],\n                borderRadius: BorderRadius.circular(12),\n              ),\n              child: Icon(\n                cartItem.product.icon,\n                size: 40,\n                color: const Color(0xFF0f3460),\n              ),\n            ),\n            const SizedBox(width: 12),\n            Expanded(\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  Text(\n                    cartItem.product.name,\n                    style: const TextStyle(\n                      fontSize: 16,\n                      fontWeight: FontWeight.bold,\n                      color: Color(0xFF1a1a2e),\n                    ),\n                    maxLines: 2,\n                    overflow: TextOverflow.ellipsis,\n                  ),\n                  const SizedBox(height: 4),\n                  Text(\n                    '\$${cartItem.product.price.toStringAsFixed(2)}',\n                    style: const TextStyle(\n                      fontSize: 18,\n                      fontWeight: FontWeight.bold,\n                      color: Color(0xFFe94560),\n                    ),\n                  ),\n                ],\n              ),\n            ),\n            Column(\n              children: [\n                Row(\n                  children: [\n                    IconButton(\n                      icon: const Icon(Icons.remove_circle_outline),\n                      onPressed: () {\n                        setState(() {\n                          if (cartItem.quantity > 1) {\n                            cartItem.quantity--;\n                          } else {\n                            _cartItems.removeAt(index);\n                          }\n                        });\n                      },\n                      color: const Color(0xFF0f3460),\n                    ),\n                    Text(\n                      '${cartItem.quantity}',\n                      style: const TextStyle(\n                        fontSize: 16,\n                        fontWeight: FontWeight.bold,\n                      ),\n                    ),\n                    IconButton(\n                      icon: const Icon(Icons.add_circle_outline),\n                      onPressed: () {\n                        setState(() {\n                          cartItem.quantity++;\n                        });\n                      },\n                      color: const Color(0xFF0f3460),\n                    ),\n                  ],\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget _buildCheckoutSection() {\n    return Container(\n      padding: const EdgeInsets.all(20),\n      decoration: BoxDecoration(\n        color: Colors.white,\n        borderRadius: const BorderRadius.vertical(top: Radius.circular(25)),\n        boxShadow: [\n          BoxShadow(\n            color: Colors.black.withOpacity(0.1),\n            blurRadius: 10,\n            offset: const Offset(0, -5),\n          ),\n        ],\n      ),\n      child: SafeArea(\n        child: Column(\n          mainAxisSize: MainAxisSize.min,\n          children: [\n            Row(\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: [\n                const Text(\n                  'Subtotal:',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey,\n                  ),\n                ),\n                Text(\n                  '\$${_total.toStringAsFixed(2)}',\n                  style: const TextStyle(\n                    fontSize: 16,\n                    fontWeight: FontWeight.w600,\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 8),\n            Row(\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: [\n                const Text(\n                  'Shipping:',\n                  style: TextStyle(\n                    fontSize: 16,\n                    color: Colors.grey,\n                  ),\n                ),\n                Text(\n                  _total > 50 ? 'FREE' : '\$5.00',\n                  style: TextStyle(\n                    fontSize: 16,\n                    fontWeight: FontWeight.w600,\n                    color: _total > 50 ? Colors.green : Colors.black,\n                  ),\n                ),\n              ],\n            ),\n            const Divider(height: 24),\n            Row(\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: [\n                const Text(\n                  'Total:',\n                  style: TextStyle(\n                    fontSize: 20,\n                    fontWeight: FontWeight.bold,\n                  ),\n                ),\n                Text(\n                  '\$${(_total + (_total > 50 ? 0 : 5)).toStringAsFixed(2)}',\n                  style: const TextStyle(\n                    fontSize: 24,\n                    fontWeight: FontWeight.bold,\n                    color: Color(0xFFe94560),\n                  ),\n                ),\n              ],\n            ),\n            const SizedBox(height: 16),\n            SizedBox(\n              width: double.infinity,\n              height: 55,\n              child: ElevatedButton(\n                onPressed: () {\n                  showDialog(\n                    context: context,\n                    builder: (context) => AlertDialog(\n                      title: const Text('Order Confirmation'),\n                      content: Text(\n                        'Your order of \$${(_total + (_total > 50 ? 0 : 5)).toStringAsFixed(2)} has been placed successfully!',\n                      ),\n                      actions: [\n                        TextButton(\n                          onPressed: () {\n                            Navigator.pop(context);\n                            setState(() {\n                              _cartItems.clear();\n                            });\n                          },\n                          child: const Text('OK'),\n                        ),\n                      ],\n                    ),\n                  );\n                },\n                style: ElevatedButton.styleFrom(\n                  backgroundColor: const Color(0xFFe94560),\n                  foregroundColor: Colors.white,\n                  shape: RoundedRectangleBorder(\n                    borderRadius: BorderRadius.circular(15),\n                  ),\n                  elevation: 0,\n                ),\n                child: const Text(\n                  'Checkout',\n                  style: TextStyle(\n                    fontSize: 18,\n                    fontWeight: FontWeight.bold,\n                  ),\n                ),\n              ),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass CartItem {\n  final Product product;\n  int quantity;\n\n  CartItem({required this.product, required this.quantity});\n}